<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz des Drapeaux R√©gionaux Europ√©ens</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Source+Sans+3:wght@300;400;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/style_advanced.css">
</head>

<body>
    <header class="header">
        <h1>Quiz des Drapeaux R√©gionaux</h1>
        <p>Testez vos connaissances sur les r√©gions europ√©ennes</p>
    </header>

    <div class="container">
        <div id="setupScreen" class="card">
            <h2 class="card-title">Configuration du Quiz</h2>

            <div class="setup-group">
                <label class="setup-label">S√©lectionnez un pays :</label>
                <div class="button-grid">
                    <button class="option-btn" data-country="all"><span>Tous les pays</span></button>
                    <button class="option-btn" data-country="france"><span>France</span></button>
                    <button class="option-btn" data-country="germany"><span>Allemagne</span></button>
                    <button class="option-btn" data-country="switzerland"><span>Suisse</span></button>
                    <button class="option-btn" data-country="spain"><span>Espagne</span></button>
                    <button class="option-btn" data-country="italy"><span>Italie</span></button>
                    <button class="option-btn" data-country="belgium"><span>Belgique</span></button>
                    <button class="option-btn" data-country="netherlands"><span>Pays-Bas</span></button>
                    <button class="option-btn" data-country="austria"><span>Autriche</span></button>
                    <button class="option-btn" data-country="ireland"><span>Irlande</span></button>
                    <button class="option-btn" data-country="czechia"><span>Tch√©quie</span></button>
                    <button class="option-btn" data-country="croatia"><span>Croatie</span></button>
                    <button class="option-btn" data-country="greece"><span>Gr√®ce</span></button>
                </div>
            </div>

            <div class="setup-group">
                <label class="setup-label">Choisissez la difficult√© :</label>
                <div class="button-grid" id="difficultyButtons">
                </div>
            </div>

            <button id="startBtn" class="btn-primary" disabled>Commencer le Quiz</button>
        </div>

        <div id="quizScreen" class="card hidden">
            <div class="quiz-header">
                <div class="score">Score: <span id="scoreValue">0</span></div>
                <div class="question-counter">
                    Question <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span>
                </div>
            </div>

            <div class="progress-container">
                <div id="progressBar" class="progress-bar" style="width: 0%"></div>
            </div>

            <div id="trapIndicator" class="trap-indicator hidden">
                Question Pi√®ge
            </div>

            <div class="flag-container">
                <img id="flagImage" class="flag-image" src="" alt="Drapeau r√©gional">
            </div>

            <div id="optionsContainer" class="options-container">
            </div>
        </div>

        <div id="resultsScreen" class="card hidden">
            <h2 class="card-title">R√©sultats</h2>

            <div class="results-container">
                <div class="results-score" id="finalScore">0%</div>
                <div class="results-message" id="resultMessage"></div>

                <div class="results-details">
                    <div class="result-stat">
                        <span class="result-stat-value" id="correctAnswers">0</span>
                        <span class="result-stat-label">Bonnes r√©ponses</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-stat-value" id="incorrectAnswers">0</span>
                        <span class="result-stat-label">Mauvaises r√©ponses</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-stat-value" id="percentageScore">0%</span>
                        <span class="result-stat-label">Pourcentage</span>
                    </div>
                </div>

                <button id="restartBtn" class="btn-primary">Recommencer</button>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="error-modal hidden">
        <div class="error-content">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h2 class="error-title">Pas assez de r√©gions !</h2>
            <p class="error-message">Le quiz ne peut pas d√©marrer car il n'y a pas suffisamment de r√©gions disponibles.</p>

            <div class="error-stats">
                <div class="error-stat-line">
                    <span class="error-stat-label">Pays s√©lectionn√©(s) :</span>
                    <span class="error-stat-value" id="errorCountry"></span>
                </div>
                <div class="error-stat-line">
                    <span class="error-stat-label">R√©gions disponibles :</span>
                    <span class="error-stat-value" id="errorAvailable"></span>
                </div>
                <div class="error-stat-line">
                    <span class="error-stat-label">R√©gions requises :</span>
                    <span class="error-stat-value" id="errorRequired"></span>
                </div>
            </div>

            <div class="error-suggestions">
                <div class="error-suggestions-title">üí° Solutions</div>
                <ul class="error-suggestions-list">
                    <li>S√©lectionnez <strong>"Tous les pays"</strong> pour avoir acc√®s √† toutes les r√©gions</li>
                    <li>Choisissez une difficult√© <strong>Facile (5 questions)</strong> ou <strong>Moyen (10 questions)</strong></li>
                    <li>Combinez plusieurs pays pour augmenter le nombre de r√©gions</li>
                </ul>
            </div>

            <button id="errorCloseBtn" class="error-close-btn">J'ai compris</button>
        </div>
    </div>

    <div id="feedbackModal" class="feedback-modal hidden">
        <div class="feedback-content">
            <div class="feedback-header">
                <div class="feedback-title">Oups ! Mauvaise r√©ponse</div>
                <div class="feedback-subtitle">D√©couvrez la bonne r√©ponse</div>
            </div>

            <div class="flag-comparison">
                <div class="flag-box wrong-flag">
                    <div class="flag-box-title">Votre r√©ponse</div>
                    <img id="wrongFlagImg" src="" alt="Drapeau incorrect">
                    <div class="flag-box-name" id="wrongRegionName"></div>
                </div>
                <div class="flag-box correct-flag">
                    <div class="flag-box-title">Bonne r√©ponse</div>
                    <img id="correctFlagImg" src="" alt="Drapeau correct">
                    <div class="flag-box-name" id="correctRegionName"></div>
                </div>
            </div>

            <div class="region-info">
                <h3 id="regionInfoTitle"></h3>
                <div class="region-info-item">
                    <span class="region-info-label">Pays :</span>
                    <span class="region-info-value" id="regionCountry"></span>
                </div>
                <div class="region-info-item">
                    <span class="region-info-label">Position :</span>
                    <span class="region-info-value" id="regionPosition"></span>
                </div>
                <div class="region-info-item">
                    <span class="region-info-label">Capitale :</span>
                    <span class="region-info-value" id="regionCapital"></span>
                </div>
            </div>

            <button id="feedbackCloseBtn" class="feedback-close-btn">Continuer</button>
        </div>
    </div>

    <!-- JavaScript - Load in order: utils, data, ui, then main quiz -->
    <script src="js/utils.js"></script>
    <script src="js/data.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/quiz.js"></script>
</body>
</html>